import{t as c,b as n}from"../chunks/G-XDyB1t.js";import{i as k}from"../chunks/De9_l8MX.js";import{p as D,b as L,s as M,c as N,d as p,m as g,e as s,r as f,n as S}from"../chunks/DeCAPg0_.js";import{i as h}from"../chunks/Dsp-R_JF.js";import{g as C,e as E,W as G}from"../chunks/BN6wTB36.js";import{o as I}from"../chunks/C2u374qF.js";var J=c('<p class="text-center py-4">Loading your favorite locations...</p>'),O=c(`<p class="text-gray-600">You haven't added any favorite locations yet.</p> <a href="/" class="text-blue-500 hover:underline mt-2 inline-block">Go to home page to add favorites</a>`,1),P=c('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>'),Y=c('<div class="container mx-auto px-4 py-8"><h1 class="text-3xl font-bold mb-6">My Favorite Locations</h1> <!></div>');function K(y,b){D(b,!1);let d=g([]),v=g([]),u=g(!0);I(async()=>{const a=localStorage.getItem("weatherFavorites");a&&(p(d,JSON.parse(a)),await x()),p(u,!1)});async function x(){const a=s(d).map(async t=>{try{return{...await C(t.lon,t.lat),locationName:t.name,latitude:t.lat,longitude:t.lon}}catch(l){return console.error(`Error loading weather for ${t.name}:`,l),null}}),o=await Promise.all(a);p(v,o.filter(t=>t!==null))}k();var m=Y(),_=M(N(m),2);{var w=a=>{var o=J();n(a,o)},W=(a,o)=>{{var t=e=>{var r=O();S(2),n(e,r)},l=e=>{var r=P();E(r,5,()=>s(v),i=>i.latitude+"-"+i.longitude,(i,F)=>{G(i,{get weatherData(){return s(F)}})}),f(r),n(e,r)};h(a,e=>{s(d).length===0?e(t):e(l,!1)},o)}};h(_,a=>{s(u)?a(w):a(W,!1)})}f(m),n(y,m),L()}export{K as component};
