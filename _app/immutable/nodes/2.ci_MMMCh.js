import{t as k,a as n,c as E}from"../chunks/C7tvNJKp.js";import{h as Ia,N as Xa,O as Za,P as qa,Q as Qa,y as $a,R as ae,p as La,c as r,s as S,r as s,G as ua,a as za,F as T,g as v,S as W,V as ee,w as te,b as f,$ as re,n as Na}from"../chunks/DoRo33mq.js";import{a as se,l as ie,s as U,d as Ra,e as Ma}from"../chunks/Coxz7hJz.js";import{i as g}from"../chunks/DIVo-TDx.js";import{e as Fa,h as D,R as le,i as Wa,T as oe,H as ce,a as ne,L as ve,S as fe,F as de,C as ue,P as me,b as _e,c as ge,d as ye,f as he,g as xe,j as be,k as we,l as De,E as pe,W as Ne,N as Se}from"../chunks/kgIO8KMb.js";const ke=Symbol("is custom element"),Ie=Symbol("is html");function Le(e){if(Ia){var a=!1,o=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var m=e.value;Aa(e,"value",null),e.value=m}if(e.hasAttribute("checked")){var l=e.checked;Aa(e,"checked",null),e.checked=l}}};e.__on_r=o,Xa(o),se()}}function Aa(e,a,o,m){var l=ze(e);Ia&&(l[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||l[a]!==(l[a]=o)&&(a==="loading"&&(e[Za]=o),e.removeAttribute(a))}function ze(e){return e.__attributes??(e.__attributes={[ke]:e.nodeName.includes("-"),[Ie]:e.namespaceURI===qa})}function Ee(e,a,o=a){var m=Qa();ie(e,"input",l=>{var c=l?e.defaultValue:e.value;if(c=Sa(e)?ka(c):c,o(c),m&&c!==(c=a())){var j=e.selectionStart,C=e.selectionEnd;e.value=c??"",C!==null&&(e.selectionStart=j,e.selectionEnd=Math.min(C,e.value.length))}}),(Ia&&e.defaultValue!==e.value||$a(a)==null&&e.value)&&o(Sa(e)?ka(e.value):e.value),ae(()=>{var l=a();Sa(e)&&l===ka(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function Sa(e){var a=e.type;return a==="number"||a==="range"}function ka(e){return e===""?null:+e}var Te=k('<div class="flex items-center justify-between py-3"><div class="flex items-center space-x-4"><div class="flex h-10 w-10 items-center justify-center rounded-full bg-[#f3f1ef]"><!></div> <div><p class="font-semibold"> </p> <p class="text-sm text-gray-500"> </p></div></div> <div class="text-right"><p class="font-medium"> </p> <div class="flex items-center justify-end space-x-2 text-sm text-gray-500"><!> <span> </span></div></div></div>'),je=k('<div class="py-3 text-center text-gray-500">No forecast data available</div>'),Ce=k('<div class="w-full max-w-md overflow-hidden rounded-xl bg-white shadow-md border border-[#ccc3b9]"><div class="bg-[#ccc3b9] p-4 text-gray-800"><h2 class="text-xl font-bold">5-Day Forecast</h2> <p class="text-gray-600"> </p></div> <div class="p-4"><div class="divide-y divide-gray-200"><!></div></div></div>');function Me(e,a){La(a,!0);function o(u){return u===void 0?"N/A":`${u}Â°C`}function m(u){if(!u)return"N/A";const y={weekday:"long"};return new Date(u).toLocaleDateString(void 0,y)}function l(u){if(!u)return"";const y=new Date(u),d={month:"short",day:"numeric"};return y.toLocaleDateString(void 0,d)}function c(u,y,d,i=50){return y>7||d>75?"heavy-rain":y>3||d>50?"rain":y>.5||d>30?"light-rain":u<0?"snow":i>80?"cloudy":i>50?"partly-cloudy":u>28?"hot":"sun"}var j=Ce(),C=r(j),V=S(r(C),2),ea=r(V,!0);s(V),s(C);var R=S(C,2),H=r(R),P=r(H);{var O=u=>{var y=E(),d=T(y);Fa(d,17,()=>a.forecastData.daily.time,Wa,(i,_,t)=>{var M=E(),I=T(M);{var h=p=>{var L=Te(),N=r(L),x=r(N),A=r(x);{var B=G=>{var K=E(),ra=T(K);D(ra,()=>oe({size:24,className:"text-[#8c7e6f]"})),n(G,K)},z=(G,K)=>{{var ra=Y=>{var la=E(),ga=T(la);D(ga,()=>ce({size:24,className:"text-[#8c7e6f]"})),n(Y,la)},_a=(Y,la)=>{{var ga=J=>{var oa=E(),ya=T(oa);D(ya,()=>ne({size:24,className:"text-[#8c7e6f]"})),n(J,oa)},Pa=(J,oa)=>{{var ya=X=>{var ca=E(),ha=T(ca);D(ha,()=>ve({size:24,className:"text-[#8c7e6f]"})),n(X,ca)},Ga=(X,ca)=>{{var ha=Z=>{var na=E(),xa=T(na);D(xa,()=>fe({size:24,className:"text-[#8c7e6f]"})),n(Z,na)},Va=(Z,na)=>{{var xa=q=>{var va=E(),ba=T(va);D(ba,()=>de({size:24,className:"text-[#8c7e6f]"})),n(q,va)},Ua=(q,va)=>{{var ba=Q=>{var fa=E(),wa=T(fa);D(wa,()=>ue({size:24,className:"text-[#8c7e6f]"})),n(Q,fa)},Ka=(Q,fa)=>{{var wa=$=>{var da=E(),Da=T(da);D(Da,()=>me({size:24,className:"text-[#8c7e6f]"})),n($,da)},Ya=($,da)=>{{var Da=aa=>{var sa=E(),pa=T(sa);D(pa,()=>_e({size:24,className:"text-[#8c7e6f]"})),n(aa,sa)},Ja=aa=>{var sa=E(),pa=T(sa);D(pa,()=>ge({size:24,className:"text-[#8c7e6f]"})),n(aa,sa)};g($,aa=>{c(a.forecastData.daily.temperature_2m_max[t],a.forecastData.daily.precipitation_sum[t],a.forecastData.daily.precipitation_probability_max[t])==="hot"?aa(Da):aa(Ja,!1)},da)}};g(Q,$=>{c(a.forecastData.daily.temperature_2m_max[t],a.forecastData.daily.precipitation_sum[t],a.forecastData.daily.precipitation_probability_max[t])==="partly-cloudy"?$(wa):$(Ya,!1)},fa)}};g(q,Q=>{c(a.forecastData.daily.temperature_2m_max[t],a.forecastData.daily.precipitation_sum[t],a.forecastData.daily.precipitation_probability_max[t])==="cloudy"||c(a.forecastData.daily.temperature_2m_max[t],a.forecastData.daily.precipitation_sum[t],a.forecastData.daily.precipitation_probability_max[t])==="overcast"?Q(ba):Q(Ka,!1)},va)}};g(Z,q=>{c(a.forecastData.daily.temperature_2m_max[t],a.forecastData.daily.precipitation_sum[t],a.forecastData.daily.precipitation_probability_max[t])==="fog"?q(xa):q(Ua,!1)},na)}};g(X,Z=>{c(a.forecastData.daily.temperature_2m_max[t],a.forecastData.daily.precipitation_sum[t],a.forecastData.daily.precipitation_probability_max[t])==="snow"?Z(ha):Z(Va,!1)},ca)}};g(J,X=>{c(a.forecastData.daily.temperature_2m_max[t],a.forecastData.daily.precipitation_sum[t],a.forecastData.daily.precipitation_probability_max[t])==="light-rain"?X(ya):X(Ga,!1)},oa)}};g(Y,J=>{c(a.forecastData.daily.temperature_2m_max[t],a.forecastData.daily.precipitation_sum[t],a.forecastData.daily.precipitation_probability_max[t])==="rain"?J(ga):J(Pa,!1)},la)}};g(G,Y=>{c(a.forecastData.daily.temperature_2m_max[t],a.forecastData.daily.precipitation_sum[t],a.forecastData.daily.precipitation_probability_max[t])==="heavy-rain"?Y(ra):Y(_a,!1)},K)}};g(A,G=>{c(a.forecastData.daily.temperature_2m_max[t],a.forecastData.daily.precipitation_sum[t],a.forecastData.daily.precipitation_probability_max[t])==="thunderstorm"?G(B):G(z,!1)})}s(x);var b=S(x,2),w=r(b),F=r(w,!0);s(w);var ia=S(w,2),Ha=r(ia,!0);s(ia),s(b),s(N);var Ea=S(N,2),ma=r(Ea),Oa=r(ma);s(ma);var Ta=S(ma,2),ja=r(Ta);D(ja,()=>le({size:16,className:"text-gray-500"}));var Ca=S(ja,2),Ba=r(Ca);s(Ca),s(Ta),s(Ea),s(L),ua((G,K,ra,_a)=>{U(F,G),U(Ha,K),U(Oa,`${ra??""} / 
                                    ${_a??""}`),U(Ba,`${a.forecastData.daily.precipitation_probability_max[t]??""}%`)},[()=>m(v(_)),()=>l(v(_)),()=>o(a.forecastData.daily.temperature_2m_max[t]),()=>o(a.forecastData.daily.temperature_2m_min[t])]),n(p,L)};g(I,p=>{t<5&&p(h)})}n(i,M)}),n(u,y)},ta=u=>{var y=je();n(u,y)};g(P,u=>{a.forecastData&&a.forecastData.daily&&a.forecastData.daily.time?u(O):u(ta,!1)})}s(H),s(R),s(j),ua(()=>U(ea,a.forecastData.locationName||"Location")),n(e,j),za()}function Ae(e,a,o,m){if(v(a).trim()){const l=v(a).includes(",")?v(a).split(",")[0].trim():v(a).trim();o.onSearch(l),f(m,!1)}}var Re=e=>e.preventDefault(),Fe=k('<li class="px-4 py-2 text-gray-500 text-center">Loading suggestions...</li>'),We=k('<li class="px-4 py-2 text-gray-500 text-center">No locations found</li>'),He=(e,a,o)=>a(v(o)),Oe=k('<button class="w-full text-left px-4 py-2 hover:bg-gray-100 cursor-pointer flex items-center" role="option" aria-selected="false"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-gray-400" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"></path></svg> </button>'),Be=k('<div class="absolute mt-1 w-full rounded-md border border-gray-300 bg-white shadow-lg z-10" role="listbox" tabindex="0"><ul class="max-h-60 overflow-auto py-1"><!></ul></div>'),Pe=k('<div class="relative"><div class="flex items-center"><div class="relative flex w-full"><input type="text" placeholder="Search locations..." class="w-full rounded-lg border border-[#b8afa5] bg-[#f3f1ef] py-2 pl-3 pr-10 shadow-sm focus:border-[#a69c91] focus:outline-none focus:ring-1 focus:ring-[#a69c91]"> <button class="absolute inset-y-0 right-0 flex items-center pr-3 text-gray-600 hover:text-gray-800" aria-label="Search locations"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></button></div></div> <!></div>');function Ge(e,a){La(a,!0);let o=W(""),m=W(!1),l=W(ee([])),c=W(!1);function j(d,i){let _;return function(...t){clearTimeout(_),_=setTimeout(()=>d.apply(this,t),i)}}const C=j(async d=>{if(!d||d.trim().length<2){f(l,[],!0);return}f(c,!0);try{const i=await ye(d);f(l,i,!0)}catch(i){console.error("Error fetching suggestions:",i),f(l,[],!0)}finally{f(c,!1)}},300);te(()=>{v(o).trim().length>=2?(f(m,!0),C(v(o))):(f(m,!1),f(l,[],!0))});function V(d){const i=d.split(",")[0].trim();f(o,d,!0),f(m,!1),f(l,[],!0),a.onSearch(i)}function ea(){f(m,!1)}var R=Pe();Ma("mousedown",re,ea);var H=r(R),P=r(H),O=r(P);Le(O);var ta=S(O,2);ta.__click=[Ae,o,a,m],s(P),s(H);var u=S(H,2);{var y=d=>{var i=Be();i.__mousedown=[Re];var _=r(i),t=r(_);{var M=h=>{var p=Fe();n(h,p)},I=(h,p)=>{{var L=x=>{var A=We();n(x,A)},N=x=>{var A=E(),B=T(A);Fa(B,17,()=>v(l),Wa,(z,b)=>{var w=Oe();w.__mousedown=[He,V,b];var F=S(r(w));s(w),ua(()=>U(F,` ${v(b)??""}`)),n(z,w)}),n(x,A)};g(h,x=>{v(l).length===0?x(L):x(N,!1)},p)}};g(t,h=>{v(c)?h(M):h(I,!1)})}s(_),s(i),n(d,i)};g(u,d=>{v(m)&&(v(l).length>0||v(c))&&d(y)})}s(R),Ma("focus",O,()=>{v(o).trim().length>0&&f(m,!0)}),Ee(O,()=>v(o),d=>f(o,d)),n(e,R),za()}Ra(["click","mousedown"]);var Ve=k('<div class="mt-8 flex justify-center"><div class="max-w-lg rounded-xl bg-white p-10 shadow-lg text-center"><!> <h3 class="mt-4 text-xl font-medium text-gray-900">Search for a location</h3> <p class="mt-2 text-gray-600">Enter a city name and click search or select from suggestions</p></div></div>'),Ue=k('<div class="mt-8 flex justify-center"><div class="rounded-xl bg-white p-10 shadow-lg"><div class="flex items-center space-x-4"><!> <span class="text-lg font-medium text-gray-700">Loading weather data...</span></div></div></div>'),Ke=(e,a,o)=>a(v(o)),Ye=k('<div class="mt-8 flex justify-center"><div class="max-w-lg rounded-xl bg-white p-10 shadow-lg"><div class="flex flex-col items-center text-red-500"><!> <span class="text-lg font-medium text-center"> </span></div> <div class="mt-6 flex justify-center"><button class="rounded-md bg-blue-500 px-6 py-2 text-white hover:bg-blue-600 transition-colors">Try again</button></div></div></div>'),Je=k('<div class="mt-8 grid gap-6 lg:grid-cols-2 lg:gap-8"><!> <!></div>'),Xe=k('<div class="mt-8 flex justify-center"><div class="max-w-lg rounded-xl bg-white p-10 shadow-lg text-center"><!> <span class="mt-4 block text-lg font-medium text-gray-700">No weather data available</span></div></div>'),Ze=k('<div class="h-screen overflow-hidden bg-gradient-to-b from-gray-50 to-gray-100 p-4 sm:p-6"><div class="mx-auto max-w-6xl"><div class="mb-6 flex justify-center"><div class="w-full max-w-md"><!></div></div> <!></div></div>');function tt(e,a){La(a,!0);let o=W(""),m=W(null),l=W(null),c=W(!1),j=W(""),C=W(!1);async function V(i){if(i.trim()){f(o,i,!0),f(c,!0),f(j,""),f(C,!0);try{const _=await he(i);if(!_.results||_.results.length===0)throw new Error("Location not found");const t=_.results[0],{latitude:M,longitude:I}=t,[h,p]=await Promise.all([xe(I,M),be(I,M)]),L={locationName:t.name,country:t.country,admin:t.admin1};f(m,{...h,...L},!0),f(l,{...p,...L},!0)}catch(_){console.error("Error fetching weather data:",_),f(j,"Could not load weather data. Please try again."),f(m,null),f(l,null)}finally{f(c,!1)}}}function ea(i){V(i)}var R=Ze(),H=r(R),P=r(H),O=r(P),ta=r(O);Ge(ta,{onSearch:ea}),s(O),s(P);var u=S(P,2);{var y=i=>{var _=Ve(),t=r(_),M=r(t);D(M,()=>we({size:64,className:"mx-auto text-blue-400"})),Na(4),s(t),s(_),n(i,_)},d=(i,_)=>{{var t=I=>{var h=Ue(),p=r(h),L=r(p),N=r(L);D(N,()=>De({size:40,className:"animate-spin text-blue-500"})),Na(2),s(L),s(p),s(h),n(I,h)},M=(I,h)=>{{var p=N=>{var x=Ye(),A=r(x),B=r(A),z=r(B);D(z,()=>pe({size:48,className:"mb-3"}));var b=S(z,2),w=r(b,!0);s(b),s(B);var F=S(B,2),ia=r(F);ia.__click=[Ke,V,o],s(F),s(A),s(x),ua(()=>U(w,v(j))),n(N,x)},L=(N,x)=>{{var A=z=>{var b=Je(),w=r(b);Ne(w,{get weatherData(){return v(m)}});var F=S(w,2);Me(F,{get forecastData(){return v(l)}}),s(b),n(z,b)},B=z=>{var b=Xe(),w=r(b),F=r(w);D(F,()=>Se({size:48,className:"mx-auto text-gray-400"})),Na(2),s(w),s(b),n(z,b)};g(N,z=>{v(m)?z(A):z(B,!1)},x)}};g(I,N=>{v(j)?N(p):N(L,!1)},h)}};g(i,I=>{v(c)?I(t):I(M,!1)},_)}};g(u,i=>{v(C)?i(d,!1):i(y)})}s(H),s(R),n(e,R),za()}Ra(["click"]);export{tt as component};
